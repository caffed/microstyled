"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e);const a=(e=20,t="",r=!0)=>{let n=Math.random().toString(36).slice(2,2+e);return n=r?n.replace(/[0-9]/g,""):n,n.length!==e?a(e-n.length,t.concat(n),r):t.concat(n)},n=/(@)(.*?)(\}\s+\})/gm,o=/(&)(.*?)(\})/gm,s=(e,t,r={})=>e.reduce(((e,a,n)=>{var o;const s=t[n];let i="";return"function"==typeof s?i=null!==(o=s(r))&&void 0!==o?o:"":"string"==typeof s&&(i=s),e.concat(a,i)}),""),i=e=>e.replace(/\s{1,}/gm," ").replace(/\n/gm,"").trim(),l=(e,t)=>{let r=e;const a=r.match(t)||[];return a&&a.length>0&&a.forEach((e=>{const t=r.indexOf(e);r=r.slice(0,t).concat(r.slice(t+e.length))})),[r,a]},c=e=>{try{const[t,r]=l(e,n),[a,s]=l(t,o);return{mediaQueries:r,psuedoClasses:s,keyValue:a.split(";").map((e=>e.trim())).filter((e=>e.length>0))}}catch(e){return console.warn(`Resultant CSS is invalid: ${e}`),{mediaQueries:[],psuedoClasses:[],keyValue:[]}}},d=(e,t)=>{const{keyValue:r,psuedoClasses:a,mediaQueries:n}=e;let o="";return o=r&&r.length>0?`.${t} { ${r.join(";\n").concat(";")} }\n`:"",o+=a&&a.length>0?`${a.join("\n")}\n`:"",o+=n&&n.length>0?`${n.join("\n")}\n`:"",o.replace(/&/gm,"."+t)},u=(e,t)=>{const r=document.createElement("style");return r.innerHTML=t,r.id=e,r},m=e.createContext(null),p=e.createContext(null),g=(t,n,o=[],l=!1)=>{const g=a();return a=>{const h=`micro-styled-${g}`,b={className:g},{theme:f}=e.useContext(p)||{},{container:v}=e.useContext(m)||{container:document.head},x=d(c(i(s(n,o,f?Object.assign(Object.assign({},a),{config:b,theme:f}):Object.assign(Object.assign({},a),{config:b})))),g),y=e.useRef(null);return e.useEffect((()=>(y.current&&(y.current.classList.add(g),v.appendChild(u(h,x))),()=>{var e,t;null===(e=y.current)||void 0===e||e.classList.remove(g),null===(t=v.querySelector(h))||void 0===t||t.remove()}))),l?r.default.createElement(t,Object.assign({key:g},a,{ref:y})):r.default.createElement(t,Object.assign({key:g},a,{ref:y}),a.children)}},h=(e,t=!1)=>(r,...a)=>g(e,r,a,t);var b={a:h("a"),address:h("address"),area:h("area"),article:h("article"),aside:h("aside"),audio:h("audio"),b:h("b"),base:h("base"),bdi:h("bdi"),bdo:h("bdo"),blockquote:h("blockquote"),br:h("br",!0),button:h("button"),canvas:h("canvas"),cite:h("cite"),code:h("code"),col:h("col"),colgroup:h("colgroup"),data:h("data"),datalist:h("datalist"),dd:h("dd"),del:h("del"),details:h("details"),dfn:h("dfn"),dialog:h("dialog"),div:h("div"),dl:h("dl"),dt:h("dt"),em:h("em"),embed:h("embed"),fieldset:h("fieldset"),figcaption:h("figcaption"),figure:h("figure"),footer:h("footer"),form:h("form"),h1:h("h1"),h2:h("h2"),h3:h("h3"),h4:h("h4"),h5:h("h5"),h6:h("h6"),header:h("header"),hgroup:h("hgroup"),hr:h("hr",!0),i:h("i"),iframe:h("iframe"),img:h("img",!0),input:h("input",!0),ins:h("ins",!0),kbd:h("kbd"),keygen:h("keygen"),label:h("label"),legend:h("legend"),li:h("li"),link:h("link"),main:h("main"),map:h("map"),mark:h("mark"),menu:h("menu"),menuitem:h("menuitem"),meter:h("meter"),nav:h("nav"),nobr:h("nobr"),noframes:h("noframes"),noscript:h("noscript"),object:h("object"),ol:h("ol"),optgroup:h("optgroup"),option:h("option"),output:h("output"),p:h("p"),picture:h("picture"),plaintext:h("plaintext"),pre:h("pre"),progress:h("progress"),q:h("q"),rp:h("rp"),rt:h("rt"),rtc:h("rtc"),ruby:h("ruby"),s:h("s"),samp:h("samp"),section:h("section"),select:h("select"),shadow:h("shadow"),small:h("small"),span:h("span"),strong:h("strong"),sub:h("sub"),summary:h("summary"),sup:h("sup"),table:h("table"),tbody:h("tbody"),td:h("td"),textarea:h("textarea"),tfoot:h("tfoot"),th:h("th"),thead:h("thead"),time:h("time"),tr:h("tr"),track:h("track"),tt:h("tt"),u:h("u"),ul:h("ul"),varEl:h("var"),video:h("video"),wbr:h("wbr")};exports.ThemeCacheProvider=e=>t=>r.default.createElement(m.Provider,{value:{container:e}},t.children),exports.ThemeProvider=e=>t=>r.default.createElement(p.Provider,{value:{theme:e}},t.children),exports.createCSSObject=c,exports.createCSSString=d,exports.createStyleElement=u,exports.default=b,exports.interpolate=s,exports.mediaQueryRegex=n,exports.psuedoClassRegex=o,exports.randomString=a,exports.removeWhitespace=i;
